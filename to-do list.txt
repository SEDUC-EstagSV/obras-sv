arrumar as interações com o banco de dados para evitar sql injection ✔️ 

tratar erros sql ✔️ 

função para gerar log de erros ✔️

terminar o >nova obra< precisa melhorar a função de pesquisa e autocomplete (escrever o num do contrato e o ano 
no input e fazer a pesquisa por num do contrato e ano) ✔️

criar tabela usuario_has_fornecedor - com isso, apenas as obras do fornecedor aparecerão 
ao user na criação de relatório✔️

criar a opção de atribuir fornecedor ao usuario✔️

criar opção de adicionar escola a um contrato -> formando o vinculo de escola e contrato 
-> pensar em como concatenar as escolas -> utilizei uma biblioteca de select do bootstrap 
https://developer.snapappointments.com/bootstrap-select/examples/ ✔️

falta terminar form relatorio✔️

Permitir consulta de fornecedores no gerenciamento do usuário✔️

arrumar listagem de usuario✔️

arrumar editar obras  ✔️

arrumar editar escola ✔️

retorno de data em input data -> editar contrato ✔️

vincular usuario a obra ✔️

situacao do relatorio na criacao do usuario poderá ser todas ou será sempre criada como pendente? ✔️

agora não será possível excluir linhas de tabelas como as da tabela contrato, obra
isso pq está tudo conectado no banco de dados, caso seja necessário ativar é preciso mudar
o que acontecerá com a chave estrangeira quando deletar uma referencia  ✔️

mensagem de erro ao logar (muito rápida) ✔️

filtrar criação do relatorio pela obra q ele trabalha ✔️

não poder excluir admin ou cargo acima, amarrar permissões de usuario com as funções
 do projeto (diego >> secretaria/prefeito (somente visualização)) ✔️
 
--atenção para a query q mostra os usuários -> quais usuários ele poderá ver?
todos menos admin e quem n tem fornecedor
o usuario só poderá trabalhar na obra se tiver forncedor? sim ->filtrar select da obra ✔️

Renê: (Alterado input de Porcentagem concluida do relatorio - para utilização de slider) ✔️

adicionar imagens no formulario e salvar no banco ✔️
https://www.codexworld.com/upload-multiple-images-store-in-database-php-mysql/

-- ideia: Havendo relatórios no status "pendente", a quantidade aparece na bolinha vermelha" - clicando nele, a lista de relatório traz apenas os pendentes
com um COUNT assim: (SELECT COUNT(*) FROM relatorio WHERE cd_situacaoRelatorio = 1) ✔️

--o metodo de criptografia md5 NÃO é seguro, usar por conta em risco. https://www.md5online.org/md5-decrypt.html
mudei md5 para password_hash q n sei se é tão seguro, mas melhor que o md5 ✔️

JUNTAR BOTÕES DO RELATORIO NO Imprimir✔️

GERENCIAMENTO DO USUARIO TA QUEBRADO✔️

ADICIONAR OPÇÃO EM BRANCO PARA FORNECEDOR✔️

ADICIONAR LABEL ESCOLA NO CONTRATO✔️

VISUALIZAR SENHA AO LOGAR / REGISTRAR ✔️

ALTERAR COR DE FUNDO DE ACORDO COM A SITUAÇÃO DO RELATÓRIO NA IMPRESSÃO ✔️

-- Lista de Fornecedores tem uma célula vazia - Aparecendo na lista de opções para escolha✔️
(foi adicionado a opção de não ter fornecedor, era necessario filtrar para não aparecer no contrato)

esqueci minha senha por email ou sms ✔️
obs.: pelo que vi n dá para enviar email localmente para tal é necessário utilizar
alguma biblioteca e para instalar uma biblioteca é necessário o composer
que é um gerenciador de dependencias
https://mailtrap.io/blog/test-emails-in-php/
https://getcomposer.org/
https://github.com/PHPMailer/PHPMailer/blob/master/examples/gmail_xoauth.phps
https://console.cloud.google.com/apis/credentials/consent?project=phpmailer-376612

validar cnpj registrados ✔️

fix: imagem não pode ser vazio ✔️
------------------------------------------------------------------------------------------------------------


--validar dados de requisições tanto no front quanto no back
NAO FOI FEITA VERIFICACAO DE VALORES NULOS INCLUSIVE NO BANCO DE DADOS SERIA NECESSARIO REVER QUAIS VALORES
ACEITAM NULO
    -- front
        relatorio✔️ (criada funções de validação de input em /js/validators.js 
                                    e funções para validação do próprio relatório em /relatorio/validarRelatorio)
    -- back
        escola✔️ (criada função de validação de input em validator.php e implementada em salvar-escola.php)
        contrato✔️
        fornecedor✔️
        obra✔️
        relatorio✔️
        usuario✔️

retornar valores no front com caracteres corretos (EX.: UTF-8) - Os caracteres não estão obedecendo 
o "<meta charset="utf-8">". Talvez, provavelmente o php esteja interferindo ✔️

Erro grotesco quando não há escolas selecionadas no contrato  ✔️
Erro na query mysql

14 - Tinha um erro ao listar relatório tbm um erro de query mysql no relatorioview ✔️

10- função de somar total de trabalhadores na obra não funciona ✔️
- não esta atualizado, foi arrumado só no outro computador e n foi upado no git

7- aparece um erro quando gera um relatório novo com 2 ou mais imagens, porém mesmo assim 
o relátorio é gerado. (O que é esse erro? Não sei) ✔️

11- Função Imprimir não está formatando as imagens corretamente  ✔️/❌
- n era pra mim, mas vi oq era e tá lá pra arrumar

13- Delete em cascata em Contrato está apagando obras e relatórios que tem escolas em comum com outros contratos ✔️
Acho que descobri o porque desse problema acontecer: Ele deleta todas as obras que tem o mesmo cd_Escola, 
porque quando deleta os "cd_contrato" da tabela escola_has_contrato, o "cd_Escola" da tabela escola_has_contrato
também são deletados juntos (obveu), mas a tabela Obra não entende que tem outras contratos com a mesma escola ainda.
Dai ela exclui. Deve ser por causa do cascate, tem como colocar uma condição no cascate? sei lá 
Possível solução: Pegar o cd_Escola diretamente da tabela Escola invés do escola_has_contrato. 
ps: por mim tirava a opção de excluir os contrato xd rsrsrsrs 

14- redirecionamento após criar relatório e bloquear url ✔️
-----------------------------------------------------------------------------------------------------------

28/03 Erros:

1- Recuperar senha não funciona (.env para token faltando no projeto) TESTAR

2- Opção de colocar manualmente a porcentagem em "novo relatório" acho q ta feito

Task antigas: 

3- fazer com que o botão fique bloqueado depois de pedir o email de recuperação de senha no front
para que não seja enviado mais de um

5- ver o que fazer com os pedidos antigos registrados no banco - nem lembro qq isso

6- personalizar usuario (Ex: Editar meu perfil) ❌
doideira ^^^

8- após confirmar que esse arquivo está 100% certo, excluir as outras variantes da covid na pasta C:\xampp\htdocs

9- Criar tela de patente (crédito aos criadores do projeto)
